<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ingreso Funcionario - Santa Cruz</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Playfair+Display:wght@700;900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        :root {
            --muni-guinda: #7B1E33;
            --muni-verde: #4a5d23;
            --muni-dorado: #c5a059;
            --bg-claro: #f4f7ed;
        }

        body {
            background-color: var(--bg-claro);
            font-family: 'Montserrat', sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            position: relative;
            overflow: hidden;
        }

        /* Decoración de fondo (Uvas sutiles) */
        .bg-decor {
            position: absolute;
            width: 300px;
            opacity: 0.05;
            z-index: -1;
            color: var(--muni-verde);
        }

        .card-login {
            background: #ffffff;
            border: none;
            border-radius: 30px;
            box-shadow: 0 15px 35px rgba(74, 93, 35, 0.15);
            width: 100%;
            max-width: 420px;
            padding: 40px;
            border-top: 8px solid var(--muni-verde);
        }

        .logo-muni {
            display: block;
            margin: 0 auto 20px;
            height: 80px;
        }

        .title-login {
            font-family: 'Playfair Display', serif;
            color: var(--muni-guinda);
            font-weight: 900;
            text-align: center;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .subtitle-login {
            text-align: center;
            color: var(--muni-verde);
            font-weight: 700;
            font-size: 0.9rem;
            margin-bottom: 30px;
            display: block;
        }

        .form-control, .form-select {
            border-radius: 12px;
            padding: 12px 15px;
            border: 1px solid #ddd;
            background-color: #fdfdfd;
            margin-bottom: 20px;
            transition: all 0.3s;
        }

        .form-control:focus, .form-select:focus {
            border-color: var(--muni-verde);
            box-shadow: 0 0 0 0.25rem rgba(74, 93, 35, 0.1);
        }

        .btn-ingresar {
            background: var(--muni-guinda);
            border: none;
            border-radius: 12px;
            padding: 14px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: white;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(123, 30, 51, 0.3);
        }

        .btn-ingresar:hover {
            background: #5a1625;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(123, 30, 51, 0.4);
            color: white;
        }

        .alert-custom {
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 600;
            border: none;
            background-color: #ffeeee;
            color: #b02a37;
        }
    </style>
</head>
<body>

    <svg class="bg-decor" style="top: -50px; left: -50px; transform: rotate(15deg);" viewBox="0 0 100 100">
        <path fill="currentColor" d="M50 15c-4 0-7 3-7 7s3 7 7 7 7-3 7-7-3-7-7-7zm-12 10c-4 0-7 3-7 7s3 7 7 7 7-3 7-7-3-7-7-7zm24 0c-4 0-7 3-7 7s3 7 7 7 7-3 7-7-3-7-7-7z"/>
    </svg>

    <div class="container d-flex justify-content-center">
        <div class="card-login">
            
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d6/Escudo_de_Santa_Cruz%2C_Chile.svg/500px-Escudo_de_Santa_Cruz%2C_Chile.svg.png" 
                 alt="Muni Santa Cruz" class="logo-muni">

            <h3 class="title-login">SANTA CRUZ</h3>
            <span class="subtitle-login">SISTEMA DE ATENCIÓN</span>

            <form method="POST">
                {% csrf_token %}

                <div class="mb-1">
                    <label class="small fw-bold mb-1" style="color: var(--muni-verde)">Correo Institucional</label>
                    <input type="email" name="email" class="form-control" placeholder="ejemplo@santacruz.cl" required>
                </div>

                <div class="mb-1">
                    <label class="small fw-bold mb-1" style="color: var(--muni-verde)">Contraseña</label>
                    <input type="password" name="password" class="form-control" placeholder="••••••••" required>
                </div>

                <div class="mb-4">
                    <label class="small fw-bold mb-1" style="color: var(--muni-verde)">Asignación de Módulo</label>
                    <select name="modulo" class="form-select" required>
                        <option value="">Seleccione su puesto...</option>
                        {% for modulo in modulos %}
                            <option value="{{ modulo.id }}">
                                Módulo {{ modulo.numero }}
                            </option>
                        {% endfor %}
                    </select>
                </div>

                <button type="submit" class="btn btn-ingresar w-100">
                    Iniciar Turno
                </button>
            </form>

            {% if messages %}
                {% for message in messages %}
                    <div class="alert alert-custom mt-3 text-center">
                        ⚠️ {{ message }}
                    </div>
                {% endfor %}
            {% endif %}

        </div>
    </div>

    <svg class="bg-decor" style="bottom: -50px; right: -50px; transform: rotate(195deg);" viewBox="0 0 100 100">
        <path fill="currentColor" d="M50 15c-4 0-7 3-7 7s3 7 7 7 7-3 7-7-3-7-7-7zm-12 10c-4 0-7 3-7 7s3 7 7 7 7-3 7-7-3-7-7-7zm24 0c-4 0-7 3-7 7s3 7 7 7 7-3 7-7-3-7-7-7z"/>
    </svg>

</body>
</html>